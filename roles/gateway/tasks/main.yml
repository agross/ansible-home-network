- name: Install networkd-dispatcher
  ansible.builtin.import_tasks: networkd-dispatcher.yml

- name: Configure PPPoE
  ansible.builtin.import_tasks: pppoe.yml

- name: Configure ddclient
  ansible.builtin.import_tasks: ddclient.yml

- name: Configure WireGuard
  ansible.builtin.import_tasks: wireguard.yml

- name: Install scripts
  ansible.builtin.template:
    src: "templates/bin/{{ item }}"
    dest: "/usr/local/bin/{{ item }}"
    owner: 0
    group: 0
    mode: "755"
  loop:
    - block
    - speed
